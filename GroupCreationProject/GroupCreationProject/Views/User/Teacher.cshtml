@{
    ViewData["Title"] = "Student Page";
    
}

<!DOCTYPE html>

<html> 
    <head>
        <meta name="viewport" content="width=device-width" />
        <link rel="stylesheet" href="~/css/user/user.css" asp-append-version="true" />
        <link rel="stylesheet" href="~/css/user/student.css" asp-append-version="true" />
    </head>

    <body class="site">
        <form id="form1" runat="server">
        <header>

            <nav>
            <!-- for vertical and horizontal alignment -->

            <ul>
                <li>
                    <a href="Default.aspx" title="">Forside</a>
                </li>
                <li>
                    <a href="portfolio.aspx" title="">Portfolio</a>
                </li>
                <li>
                    <a href="kontakt.aspx" title="">Kontakt</a>
                </li>
            </ul>
            </nav>
        </header>

        <main class="siteContent">
            <asp:ContentPlaceHolder ID="ContentPlaceHolder1" runat="server">
            </asp:ContentPlaceHolder>
            
            <button onclick="studentDetailsClicked(1)">Student Details Clicked 1</button>
            <button onclick="studentDetailsClicked(2)">Student Details Clicked 2</button>
        </main>

        <footer>
            <p>Some footer text</p>
        </footer>
        </form>
        <script src="~/lib/jquery/dist/jquery.min.js"></script>
        <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
        <script src="~/js/site.js" asp-append-version="true"></script>

        <script type="text/javascript">
            var studentsList;

            $(document).ready(function(){
                getStudents();
                console.log(studentsList);
            })
        
            function getStudents(){
                $.ajax({
                    url: 'https://localhost:7041/Users',
                    type: 'GET',
                    success: function(data, status, jqxhr) {
                        studentsList = data;
                    },
                    error:  function(data, status, jqxhr) {
                        console.log(status);
                    },
                    async: false,
                })
            }
        
            function getStudentData(studentId) {
                var studentData
            
                $.ajax({
                    url: 'https://localhost:7041/Users/' + studentId,
                    type: 'GET',
                    success: function(data, status, jqxhr) {
                        studentData = data;
                    },
                    error:  function(data, status, jqxhr) {
                        console.log(status);
                    },
                    async: false,
                })

                return studentData;
            }
            
            function showGroupsPartial(){
                $('#GroupsPartial').modal('show');
            }
            function showStudentsPartial(){
                $('#StudentsPartial').modal('show');
            }
            function logout(){
                $('#StudentsPartial').modal('show');
            }

            function studentDetailsClicked(studentId) { //This runs when a student is selected, anda  model should show up showing the student details 
                var student = getStudentData(studentId) //
                $('#StudentsPartial').modal('show');
                //then set the values of the modal to the values from student;
                console.log(student);
            }

        </script>
    </body>
</html>