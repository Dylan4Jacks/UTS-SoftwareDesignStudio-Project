@{
    ViewData["Title"] = "Teacher Page";
    
}

<!DOCTYPE html>

<html> 
    
    <head>
        <meta name="viewport" content="width=device-width" />
        <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
        <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
        <link rel="stylesheet" href="~/css/user/user.css" asp-append-version="true" />
    </head>

    <body>
        <div class="FlexWrapper">
            <div class="FlexUpper">
                <div class="Btn LogoutBtn">Logout</div>
                <div class="Navigation">
                    <div class="Btn NavigationBtn">Groups</div>
                    <div class="Btn NavigationBtn">Students</div>
                    <div class="Btn NavigationBtn">Categories</div>
                </div>
                <div class="FlexUpperDividerLine"/>
            </div>
            <div class="FlexLower">
                <div>
                    <partial name="_CategoriesPartial.cshtml" />
                </div>
            </div>
            <button onclick="studentDetailsClicked(1)">print student details to console id=1</button>
            <button onclick="studentDetailsClicked(2)">print student details to console id=2</button>
        </div>
        
        <script src="~/lib/jquery/dist/jquery.min.js"></script>
        <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
        <script src="~/js/site.js" asp-append-version="true"></script>
    
<script type="text/javascript">
        var studentsList;

        $(document).ready(function(){
            getStudents();
            console.log(studentsList);
        })
        
        function getStudents(){
            $.ajax({
                url: 'https://localhost:7041/Users',
                type: 'GET',
                success: function(data, status, jqxhr) {
                    studentsList = data;
                },
                error:  function(data, status, jqxhr) {
                    console.log(status);
                },
                async: false,
            })
        }
        
        function getStudentData(studentId) {
            var studentData
            
            $.ajax({
                url: 'https://localhost:7041/Users/' + studentId,
                type: 'GET',
                success: function(data, status, jqxhr) {
                    studentData = data;
                },
                error:  function(data, status, jqxhr) {
                    console.log(status);
                },
                async: false,
            })

            return studentData;
        }
            
        function showGroupsPartial(){
            $('#GroupsPartial').modal('show');
        }
        function showStudentsPartial(){
            $('#StudentsPartial').modal('show');
        }
        function logout(){
            $('#StudentsPartial').modal('show');
        }

        function studentDetailsClicked(studentId) { //This runs when a student is selected, anda  model should show up showing the student details 
            var student = getStudentData(studentId) //
            $('#StudentsPartial').modal('show');
            //then set the values of the modal to the values from student;
            console.log(student);
        }



</script>

    </body>
</html>